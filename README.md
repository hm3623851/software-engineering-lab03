# ูุฏุฑุช ุญุณุงุจ ุจุงูฺฉ (Account Balance Calculator)

ุงู ฺฉ ูพุฑูฺู ุฌุงูุง ุงุณุช ฺฉู ฺฉ ูุญุงุณุจูโฺฏุฑ ููุฌูุฏ ุญุณุงุจ ุจุง ูุฏุฑุช ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.

## ุณุงุฎุชุงุฑ ูพุฑูฺู

- `src/main/java/edu/sharif/selab/`
  - `AccountBalanceCalculator.java` - ฺฉูุงุณ ุงุตู ูุญุงุณุจูโฺฏุฑ
  - `Transaction.java` - ูุฏู ุชุฑุงฺฉูุด
  - `TransactionType.java` - enum ููุน ุชุฑุงฺฉูุด (DEPOSIT/WITHDRAWAL)
  - `Main.java` - ููุทู ูุฑูุฏ ุจุฑูุงูู
- `src/test/java/edu/sharif/selab/`
  - `AccountBalanceCalculatorTest.java` - ุชุณุชโูุง ูุงุญุฏ

## ูุญูู ุงุฌุฑุง ุชุณุชโูุง

ุจุฑุง ุงุฌุฑุง ุชูุงู ุชุณุชโูุงุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ุฏุงุฑฺฉุชูุฑ ุงุตู ูพุฑูฺู ุงุฌุฑุง ฺฉูุฏ:

```bash
mvn test
```

ุงู ุฏุณุชูุฑ ูพุฑูฺู ุฑุง ฺฉุงููพุงู ฺฉุฑุฏู ู ุชูุงู 9 ุชุณุช ูุงุญุฏ ุฑุง ุงุฌุฑุง ูโฺฉูุฏ.

## ุงุตูุงุญุงุช ุงุฎุฑ

### ูุดฺฉู ูุฏุฑุช ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง

**ูุดฺฉู:** ูุชุฏ `calculateBalance()` ุจู ุฏุฑุณุช ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุฑุง ูุฏุฑุช ููโฺฉุฑุฏ. ุชุณุชโูุง ุดฺฉุณุช ูโุฎูุฑุฏูุฏ ุฒุฑุง:

- ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ููุดู ุฎุงู ุจูุฏ (0 ุชุฑุงฺฉูุด) ุฏุฑ ุญุงู ฺฉู ุชุณุชโูุง ุงูุชุธุงุฑ 2-3 ุชุฑุงฺฉูุด ุฏุงุดุชูุฏ
- ูุชุฏ ููุฌูุฏ ุฑุง ุฏุฑุณุช ูุญุงุณุจู ูโฺฉุฑุฏ ุงูุง ุชุฑุงฺฉูุดโูุง ุฑุง ุฏุฑ ุชุงุฑุฎฺู ุฐุฎุฑู ููโฺฉุฑุฏ

**ุฑุงูโุญู:** ูุชุฏ `calculateBalance()` ุฏุฑ `AccountBalanceCalculator.java` ุจู ุดฺฉู ุฒุฑ ุชุบุฑ ุงูุช:

1. ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ูุจู: `transactionHistory.clear()`
2. ุงุถุงูู ฺฉุฑุฏู ุชุฑุงฺฉูุดโูุง ุฌุฏุฏ ุจู ุชุงุฑุฎฺู: `transactionHistory.addAll(transactions)`

**ุฎุทูุท ุชุบุฑ ุงูุชู:** ุฎุทูุท 12-14 ุฏุฑ `AccountBalanceCalculator.java`

```java
// ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ูุจู ู ุงุถุงูู ฺฉุฑุฏู ุชุฑุงฺฉูุดโูุง ุฌุฏุฏ
transactionHistory.clear();
transactionHistory.addAll(transactions);
```

ุงู ุงุทููุงู ูโุฏูุฏ ฺฉู:

- โ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุดุงูู ุชุนุฏุงุฏ ุตุญุญ ุชุฑุงฺฉูุดโูุง ูพุณ ุงุฒ ูุญุงุณุจุงุช ุงุณุช
- โ ูุฑ ูุฑุงุฎูุงู `calculateBalance()` ุชุงุฑุฎฺู ูุจู ุฑุง ุจุง ุชุฑุงฺฉูุดโูุง ุฌุฏุฏ ุฌุงฺฏุฒู ูโฺฉูุฏ
- โ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุงุฒ ุทุฑู `getTransactionHistory()` ูุงุจู ุฏุณุชุฑุณ ุงุณุช

## ุฎุทุงูุง ุจุญุฑุงู ฺฉุดู ุดุฏู ู ุฑูุน ุดุฏู

### ุฎุทุงูุง ูุฎู ุฏุฑ ฺฉูุงุณ ุชุฑุงฺฉูุด โ๏ธ

ุฏุฑ ุญุงู ฺฉู 9 ุชุณุช ุงููู ูพุงุณ ูโุดุฏูุฏุ ุฎุทุงูุง ุจุญุฑุงู ุฏุฑ ฺฉูุงุณ `Transaction` ฺฉุดู ุดุฏ ฺฉู ุชูุณุท ูุฌููุนู ุชุณุช ุงุตู ูพูุดุด ุฏุงุฏู ูุดุฏู ุจูุฏูุฏ:

#### ๐ ุฎุทุง ุดูุงุฑู ฑ: ูพุฐุฑุด ููุงุฏุฑ ููู

**ูุดฺฉู:** ุณุงุฒูุฏู ุชุฑุงฺฉูุด ููุงุฏุฑ ููู ุฑุง ุจุฏูู validation ูโูพุฐุฑูุช

- `new Transaction(DEPOSIT, -100)` ูุฌุงุฒ ุจูุฏ
- `new Transaction(WITHDRAWAL, -50)` ุจุงุนุซ ูุญุงุณุจู ูุงุฏุฑุณุช ููุฌูุฏ ูโุดุฏ (ุฌูุน ุจู ุฌุง ุชูุฑู)

**ุชุฃุซุฑ:** ฺฉ ุจุฑุฏุงุดุช ุจุง ููุฏุงุฑ ููู ููุฌูุฏ ุฑุง ุงูุฒุงุด ูโุฏุงุฏ ุจู ุฌุง ฺฉุงูุด ุขู!

**ุงุตูุงุญ:** ุงุถุงูู ฺฉุฑุฏู validation ุฏุฑ ุณุงุฒูุฏู:

```java
if (amount < 0) {
    throw new IllegalArgumentException("Transaction amount cannot be negative");
}
```

#### ๐ ุฎุทุง ุดูุงุฑู ฒ: ูพุฐุฑุด ููุน ุชุฑุงฺฉูุด null

**ูุดฺฉู:** ุณุงุฒูุฏู ููุน `TransactionType` null ุฑุง ูโูพุฐุฑูุช

- `new Transaction(null, 100)` ูุฌุงุฒ ุจูุฏ
- ูโุชูุงูุณุช ุจุงุนุซ `NullPointerException` ุฏุฑ ุญู ูุญุงุณุจู ุดูุฏ

**ุงุตูุงุญ:** ุงุถุงูู ฺฉุฑุฏู ุจุฑุฑุณ null:

```java
if (type == null) {
    throw new IllegalArgumentException("Transaction type cannot be null");
}
```

#### ๐ ุฎุทุง ุดูุงุฑู ณ: ูุจูุฏ equals() ู hashCode()

**ูุดฺฉู:** ุงุดุงุก ุชุฑุงฺฉูุด ุจุง ููุงุฏุฑ ฺฉุณุงู ุจุฑุงุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ููโุดุฏูุฏ

- ุจุงุนุซ ูุดฺฉูุงุช ุฏุฑ ุนููุงุช Collections ูโุดุฏ
- ุชุณุชโูุง `containsAll()` ุฏุฑ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุจู ุตูุฑุช ุชุตุงุฏู ฺฉุงุฑ ูโฺฉุฑุฏูุฏ

**ุงุตูุงุญ:** ูพุงุฏูโุณุงุฒ ูุชุฏูุง ุตุญุญ `equals()` ู `hashCode()`:

```java
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (obj == null || getClass() != obj.getClass()) return false;
    Transaction that = (Transaction) obj;
    return amount == that.amount && type == that.type;
}
```

### ุฑูฺฉุฑุฏ ุชุณุชโููุณ

- ุงุถุงูู ฺฉุฑุฏู ุชุณุชโูุง ุฌุงูุน edge case ุจุฑุง ุขุดฺฉุงุฑ ฺฉุฑุฏู ุงู ุฎุทุงูุง
- ุชูุงู ุฎุทุงูุง ุดูุงุณุง ู ุจุง validation ููุงุณุจ ุฑูุน ุดุฏูุฏ
- ฺฉูุงุณ ุชุฑุงฺฉูุด ุญุงูุง ุงุฒ ุงุตูู ุจุฑูุงููโููุณ ุฏูุงุน ูพุฑู ูโฺฉูุฏ

## ูุชุงุฌ ุชุณุช (ูพุณ ุงุฒ ุฑูุน ุฎุทุงูุง)

- **ฺฉู ุชุณุชโูุง:** 13 (4 ุชุณุช ุฌุฏุฏ ุงุถุงูู ุดุฏ)
- **ูููู:** 13 โ
- **ูุงูููู:** 0
- **ูุถุนุช:** ุชูุงู ุชุณุชโูุง ุจุง validation ูุญฺฉู ูพุงุณ ูโุดููุฏ

### ุฏุฑุณ ุขููุฎุชู ุดุฏู

โ **ููุดู edge case ูุง ู ูุฑูุฏโูุง ูุงูุนุชุจุฑ ุฑุง ุชุณุช ฺฉูุฏ**  
โ ูพุงุณ ุดุฏู ุชุณุชโูุง ูพุงู ุจู ูุนูุง ุจุฏูู ุฎุทุง ุจูุฏู ฺฉุฏ ูุณุช

## ุณูุงูุงุช ุชุญูู ู ูพุงุณุฎโูุง

### ุณูุงู ุงูู - ุฎุทุง ููุฌูุฏ ู ุนูุช ุฏุฏู ูุดุฏู ุขู

**ุฎุทุง:** ฺฉูุงุณ `Transaction` ููุงุฏุฑ ููู ู `null` ุฑุง ุจุฏูู validation ูโูพุฐุฑูุช ู `equals()/hashCode()` ูพุงุฏูโุณุงุฒ ูุดุฏู ุจูุฏ.

**ุนูุช ุฏุฏู ูุดุฏู:** ุชุณุชโูุง ุงููู ููุท ุฑู happy path ูุชูุฑฺฉุฒ ุจูุฏูุฏ ู edge cases ู invalid inputs ุฑุง ุจุฑุฑุณ ููโฺฉุฑุฏูุฏุ ุจูุงุจุฑุงู ุฎุทุงูุง validation ู object comparison ฺฉุดู ูุดุฏูุฏ.

### ุณูุงู ุฏูู - ุชุณุช ุจุฑุง ฺฉุดู ุฎุทุง ู ุงุตูุงุญ ุขู

**ุชุณุชโูุง ููุดุชู ุดุฏู ุจุฑุง ฺฉุดู ุฎุทุง:**

```java
@Test
void testNegativeAmountShouldThrowException() {
    // ฺฉุดู ุฎุทุง ูพุฐุฑุด ููุงุฏุฑ ููู
    assertThrows(IllegalArgumentException.class, () -> {
        new Transaction(TransactionType.DEPOSIT, -100);
    });
}

@Test
void testNullTransactionTypeShouldThrowException() {
    // ฺฉุดู ุฎุทุง ูพุฐุฑุด null type
    assertThrows(IllegalArgumentException.class, () -> {
        new Transaction(null, 100);
    });
}

@Test
void testTransactionEquality() {
    // ฺฉุดู ุฎุทุง ูุจูุฏ equals()
    Transaction t1 = new Transaction(TransactionType.DEPOSIT, 100);
    Transaction t2 = new Transaction(TransactionType.DEPOSIT, 100);
    assertEquals(t1, t2);
}
```

**ูุชุฌู ูุจู ุงุฒ ุงุตูุงุญ:** 4 ุชุณุช FAILED  
**ูุชุฌู ุจุนุฏ ุงุฒ ุงุตูุงุญ:** ููู 13 ุชุณุช PASSED โ

**ุงุตูุงุญุงุช ุงูุฌุงู ุดุฏู:**

- ุงุถุงูู ฺฉุฑุฏู validation ุจุฑุง ููุงุฏุฑ ููู ู null ุฏุฑ constructor
- ูพุงุฏูโุณุงุฒ `equals()` ู `hashCode()` methods

### ุณูุงู ุณูู - ูุดฺฉูุงุช ููุดุชู ุชุณุช ุจุนุฏ ุงุฒ ุจุฑูุงูู

**ูุดฺฉู ฑ:** **Test Bias** - ููุช ฺฉุฏ ูุจูุงู ููุดุชู ุดุฏูุ ุชุณุชโูุง ูุนูููุงู ููุท ุฑู ุนููฺฉุฑุฏ ููุฌูุฏ ูุชูุฑฺฉุฒ ูโุดููุฏ ู edge cases ูุฑุงููุด ูโุดููุฏ.

**ูุดฺฉู ฒ:** **False Confidence** - ูพุงุณ ุดุฏู ุชุณุชโูุง ูุญุฏูุฏ ุงุญุณุงุณ ุงููุช ฺฉุงุฐุจ ุงุฌุงุฏ ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุฎุทุงูุง ุฌุฏ ููฺฉู ุงุณุช ููฺูุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ.

**ูุดฺฉู ณ:** **Design Inflexibility** - ฺฉุฏ ุจุฏูู ุฏุฑ ูุธุฑ ฺฏุฑ testability ููุดุชู ูโุดูุฏุ ฺฉู ุจุนุฏุงู ุงุถุงูู ฺฉุฑุฏู ุชุณุชโูุง ุฌุงูุน ุฑุง ุฏุดูุงุฑ ู ฺฏุงู ุบุฑููฺฉู ูโุณุงุฒุฏ.
