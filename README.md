# ูุฏุฑุช ุญุณุงุจ ุจุงูฺฉ (Account Balance Calculator)

ุงู ูพุฑูฺู ฺฉ ุจุฑูุงูู ุณุงุฏู ุฌุงูุง ุจุฑุง ูุฏุฑุช ู ูุญุงุณุจู ููุฌูุฏ ุญุณุงุจ ุจุงูฺฉ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุงุณุช.

## ุณุงุฎุชุงุฑ ูพุฑูฺู

- `src/main/java/edu/sharif/selab/`
  - `AccountBalanceCalculator.java` : ฺฉูุงุณ ุงุตู ูุญุงุณุจูโฺฏุฑ
  - `Transaction.java` : ูุฏู ุชุฑุงฺฉูุด
  - `TransactionType.java` : ููุน ุชุฑุงฺฉูุด (ูุงุฑุฒ/ุจุฑุฏุงุดุช)
  - `Main.java` : ููุทู ุดุฑูุน ุจุฑูุงูู
- `src/test/java/edu/sharif/selab/`
  - `AccountBalanceCalculatorTest.java` : ุชุณุชโูุง ูุงุญุฏ

## ูุญูู ุงุฌุฑุง ุชุณุชโูุง

ุจุฑุง ุงุฌุฑุง ุชุณุชโูุงุ ฺฉุงู ุงุณุช ุฏุฑ ูพูุดู ุงุตู ูพุฑูฺู ุงู ุฏุณุชูุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
mvn test
```

## ุงุตูุงุญุงุช ุงูุฌุงู ุดุฏู

### ูุดฺฉู ูุฏุฑุช ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง

ุฏุฑ ุงุจุชุฏุง ูุชุฏ `calculateBalance()` ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุฑุง ุจู ุฏุฑุณุช ุจูโุฑูุฒุฑุณุงู ููโฺฉุฑุฏ ู ููุท ููุฌูุฏ ุฑุง ูุญุงุณุจู ูโฺฉุฑุฏ. ุจุง ุงุตูุงุญ ฺฉุฏุ ุญุงูุง ูุฑ ุจุงุฑ ฺฉู ุงู ูุชุฏ ุงุฌุฑุง ูโุดูุฏุ ูุณุช ุชุฑุงฺฉูุดโูุง ุฌุฏุฏ ุฌุงฺฏุฒู ุชุงุฑุฎฺู ูุจู ูโุดูุฏ ู ูโุชูุงู ุชุงุฑุฎฺู ุฑุง ุจุง ูุชุฏ `getTransactionHistory()` ุฏุฑุงูุช ฺฉุฑุฏ.

## ุฎุทุงูุง ฺฉุดู ุดุฏู ู ุฑูุน ุดุฏู

### ุฎุทุงูุง ฺฉูุงุณ ุชุฑุงฺฉูุด

ุฏุฑ ุชุณุชโูุง ุงูููุ ุจุฑุฎ ุฎุทุงูุง ูพูุดุด ุฏุงุฏู ูุดุฏู ุจูุฏ:

- ุงูฺฉุงู ุซุจุช ุชุฑุงฺฉูุด ุจุง ููุฏุงุฑ ููู ูุฌูุฏ ุฏุงุดุช.
- ุงูฺฉุงู ุซุจุช ุชุฑุงฺฉูุด ุจุง ููุน null ูุฌูุฏ ุฏุงุดุช.
- ูุชุฏูุง `equals()` ู `hashCode()` ุจุฑุง ููุงุณู ุฏุฑุณุช ุงุดุงุก ูพุงุฏูโุณุงุฒ ูุดุฏู ุจูุฏ.

ุจุฑุง ุฑูุน ุงู ูุดฺฉูุงุชุ ุงุนุชุจุงุฑุณูุฌ ููุฏุงุฑ ู ููุน ุชุฑุงฺฉูุด ุจู ุณุงุฒูุฏู ุงุถุงูู ุดุฏ ู ูุชุฏูุง ููุงุณู ูุฒ ูพุงุฏูโุณุงุฒ ุดุฏ.

### ุชุณุชโูุง ุงุถุงูู ุดุฏู ุจุฑุง ฺฉุดู ุฎุทุง

ุจุฑุง ุงุทููุงู ุงุฒ ุฑูุน ุฎุทุงูุงุ ุชุณุชโูุง ุจุฑุง ููุงุฏุฑ ูููุ ููุน null ู ููุงุณู ุชุฑุงฺฉูุดโูุง ููุดุชู ุดุฏ. ูุจู ุงุฒ ุงุตูุงุญุ ุงู ุชุณุชโูุง ุจุง ุฎุทุง ููุงุฌู ูโุดุฏูุฏ ุงูุง ูพุณ ุงุฒ ุงุตูุงุญุ ููู ุชุณุชโูุง ุจุง ููููุช ุงุฌุฑุง ุดุฏูุฏ.

## ูุชุงุฌ ุชุณุช

### ุฎุทุงูุง ูุฎู ุฏุฑ ฺฉูุงุณ ุชุฑุงฺฉูุด โ๏ธ

ุฏุฑ ุญุงู ฺฉู 9 ุชุณุช ุงููู ูพุงุณ ูโุดุฏูุฏุ ุฎุทุงูุง ุจุญุฑุงู ุฏุฑ ฺฉูุงุณ `Transaction` ฺฉุดู ุดุฏ ฺฉู ุชูุณุท ูุฌููุนู ุชุณุช ุงุตู ูพูุดุด ุฏุงุฏู ูุดุฏู ุจูุฏูุฏ:

#### ๐ ุฎุทุง ุดูุงุฑู ฑ: ูพุฐุฑุด ููุงุฏุฑ ููู

**ูุดฺฉู:** ุณุงุฒูุฏู ุชุฑุงฺฉูุด ููุงุฏุฑ ููู ุฑุง ุจุฏูู validation ูโูพุฐุฑูุช

- `new Transaction(DEPOSIT, -100)` ูุฌุงุฒ ุจูุฏ
- `new Transaction(WITHDRAWAL, -50)` ุจุงุนุซ ูุญุงุณุจู ูุงุฏุฑุณุช ููุฌูุฏ ูโุดุฏ (ุฌูุน ุจู ุฌุง ุชูุฑู)

**ุชุฃุซุฑ:** ฺฉ ุจุฑุฏุงุดุช ุจุง ููุฏุงุฑ ููู ููุฌูุฏ ุฑุง ุงูุฒุงุด ูโุฏุงุฏ ุจู ุฌุง ฺฉุงูุด ุขู!

**ุงุตูุงุญ:** ุงุถุงูู ฺฉุฑุฏู validation ุฏุฑ ุณุงุฒูุฏู:

```java
if (amount < 0) {
    throw new IllegalArgumentException("Transaction amount cannot be negative");
}
```

#### ๐ ุฎุทุง ุดูุงุฑู ฒ: ูพุฐุฑุด ููุน ุชุฑุงฺฉูุด null

**ูุดฺฉู:** ุณุงุฒูุฏู ููุน `TransactionType` null ุฑุง ูโูพุฐุฑูุช

- `new Transaction(null, 100)` ูุฌุงุฒ ุจูุฏ
- ูโุชูุงูุณุช ุจุงุนุซ `NullPointerException` ุฏุฑ ุญู ูุญุงุณุจู ุดูุฏ

**ุงุตูุงุญ:** ุงุถุงูู ฺฉุฑุฏู ุจุฑุฑุณ null:

```java
if (type == null) {
    throw new IllegalArgumentException("Transaction type cannot be null");
}
```

#### ๐ ุฎุทุง ุดูุงุฑู ณ: ูุจูุฏ equals() ู hashCode()

**ูุดฺฉู:** ุงุดุงุก ุชุฑุงฺฉูุด ุจุง ููุงุฏุฑ ฺฉุณุงู ุจุฑุงุจุฑ ุฏุฑ ูุธุฑ ฺฏุฑูุชู ููโุดุฏูุฏ

- ุจุงุนุซ ูุดฺฉูุงุช ุฏุฑ ุนููุงุช Collections ูโุดุฏ
- ุชุณุชโูุง `containsAll()` ุฏุฑ ุชุงุฑุฎฺู ุชุฑุงฺฉูุดโูุง ุจู ุตูุฑุช ุชุตุงุฏู ฺฉุงุฑ ูโฺฉุฑุฏูุฏ

**ุงุตูุงุญ:** ูพุงุฏูโุณุงุฒ ูุชุฏูุง ุตุญุญ `equals()` ู `hashCode()`:

```java
@Override
public boolean equals(Object obj) {
    if (this == obj) return true;
    if (obj == null || getClass() != obj.getClass()) return false;
    Transaction that = (Transaction) obj;
    return amount == that.amount && type == that.type;
}
```

### ุฑูฺฉุฑุฏ ุชุณุชโููุณ

- ุงุถุงูู ฺฉุฑุฏู ุชุณุชโูุง ุฌุงูุน edge case ุจุฑุง ุขุดฺฉุงุฑ ฺฉุฑุฏู ุงู ุฎุทุงูุง
- ุชูุงู ุฎุทุงูุง ุดูุงุณุง ู ุจุง validation ููุงุณุจ ุฑูุน ุดุฏูุฏ
- ฺฉูุงุณ ุชุฑุงฺฉูุด ุญุงูุง ุงุฒ ุงุตูู ุจุฑูุงููโููุณ ุฏูุงุน ูพุฑู ูโฺฉูุฏ

## ูุชุงุฌ ุชุณุช (ูพุณ ุงุฒ ุฑูุน ุฎุทุงูุง)

- **ฺฉู ุชุณุชโูุง:** 13 (4 ุชุณุช ุฌุฏุฏ ุงุถุงูู ุดุฏ)
- **ูููู:** 13 โ
- **ูุงูููู:** 0
- **ูุถุนุช:** ุชูุงู ุชุณุชโูุง ุจุง validation ูุญฺฉู ูพุงุณ ูโุดููุฏ

### ุฏุฑุณ ุขููุฎุชู ุดุฏู

โ **ููุดู edge case ูุง ู ูุฑูุฏโูุง ูุงูุนุชุจุฑ ุฑุง ุชุณุช ฺฉูุฏ**  
โ ูพุงุณ ุดุฏู ุชุณุชโูุง ูพุงู ุจู ูุนูุง ุจุฏูู ุฎุทุง ุจูุฏู ฺฉุฏ ูุณุช

## ุณูุงูุงุช ุชุญูู ู ูพุงุณุฎโูุง

### ุณูุงู ุงูู

ุฏุฑ ฺฉุฏ ุงูููุ ุงูฺฉุงู ุซุจุช ุชุฑุงฺฉูุด ุจุง ููุฏุงุฑ ููู ุง ููุน ูุงูุนุชุจุฑ ูุฌูุฏ ุฏุงุดุช ู ููุงุณู ุชุฑุงฺฉูุดโูุง ูู ุฏุฑุณุช ุงูุฌุงู ููโุดุฏ. ฺูู ุชุณุชโูุง ููุท ุญุงูุชโูุง ูุนููู ุฑุง ุจุฑุฑุณ ูโฺฉุฑุฏูุฏุ ุงู ุฎุทุงูุง ุฏุฏู ูุดุฏ.

### ุณูุงู ุฏูู

ุจุฑุง ฺฉุดู ุงู ุฎุทุงูุงุ ุชุณุชโูุง ุจุฑุง ููุงุฏุฑ ูููุ ููุน null ู ููุงุณู ุชุฑุงฺฉูุดโูุง ููุดุชู. ุจุนุฏ ุงุฒ ุงุฌุฑุง ุงู ุชุณุชโูุง ู ูุดุงูุฏู ุฎุทุงุ ฺฉุฏ ุฑุง ุงุตูุงุญ ฺฉุฑุฏู ุชุง ููู ุชุณุชโูุง ูพุงุณ ุดููุฏ.

### ุณูุงู ุณูู

```java
@Test
void testNegativeAmountShouldThrowException() {
    // ฺฉุดู ุฎุทุง ูพุฐุฑุด ููุงุฏุฑ ููู
    assertThrows(IllegalArgumentException.class, () -> {
        new Transaction(TransactionType.DEPOSIT, -100);
    });
}

@Test
void testNullTransactionTypeShouldThrowException() {
    // ฺฉุดู ุฎุทุง ูพุฐุฑุด null type
    assertThrows(IllegalArgumentException.class, () -> {
        new Transaction(null, 100);
    });
}

@Test
void testTransactionEquality() {
    // ฺฉุดู ุฎุทุง ูุจูุฏ equals()
    Transaction t1 = new Transaction(TransactionType.DEPOSIT, 100);
    Transaction t2 = new Transaction(TransactionType.DEPOSIT, 100);
    assertEquals(t1, t2);
}
```

**ูุชุฌู ูุจู ุงุฒ ุงุตูุงุญ:** 4 ุชุณุช FAILED  
**ูุชุฌู ุจุนุฏ ุงุฒ ุงุตูุงุญ:** ููู 13 ุชุณุช PASSED โ

**ุงุตูุงุญุงุช ุงูุฌุงู ุดุฏู:**

- ุงุถุงูู ฺฉุฑุฏู validation ุจุฑุง ููุงุฏุฑ ููู ู null ุฏุฑ constructor
- ูพุงุฏูโุณุงุฒ `equals()` ู `hashCode()` methods

### ุณูุงู ุณูู - ูุดฺฉูุงุช ููุดุชู ุชุณุช ุจุนุฏ ุงุฒ ุจุฑูุงูู

**ูุดฺฉู ฑ:** **Test Bias** - ููุช ฺฉุฏ ูุจูุงู ููุดุชู ุดุฏูุ ุชุณุชโูุง ูุนูููุงู ููุท ุฑู ุนููฺฉุฑุฏ ููุฌูุฏ ูุชูุฑฺฉุฒ ูโุดููุฏ ู edge cases ูุฑุงููุด ูโุดููุฏ.

**ูุดฺฉู ฒ:** **False Confidence** - ูพุงุณ ุดุฏู ุชุณุชโูุง ูุญุฏูุฏ ุงุญุณุงุณ ุงููุช ฺฉุงุฐุจ ุงุฌุงุฏ ูโฺฉูุฏุ ุฏุฑ ุญุงู ฺฉู ุฎุทุงูุง ุฌุฏ ููฺฉู ุงุณุช ููฺูุงู ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ.

**ูุดฺฉู ณ:** **Design Inflexibility** - ฺฉุฏ ุจุฏูู ุฏุฑ ูุธุฑ ฺฏุฑ testability ููุดุชู ูโุดูุฏุ ฺฉู ุจุนุฏุงู ุงุถุงูู ฺฉุฑุฏู ุชุณุชโูุง ุฌุงูุน ุฑุง ุฏุดูุงุฑ ู ฺฏุงู ุบุฑููฺฉู ูโุณุงุฒุฏ.

## ฺฏุฒุงุฑุด ุงุฌุฑุง ุชุณุชโูุง

```text
[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------< edu.sharif.selab:TDD-2 >-----------------------
[INFO] Building TDD-2 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ TDD-2 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/mahdi/Desktop/se03/software-engineering-lab03/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ TDD-2 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ TDD-2 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/mahdi/Desktop/se03/software-engineering-lab03/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ TDD-2 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ TDD-2 ---
[INFO] Surefire report directory: /home/mahdi/Desktop/se03/software-engineering-lab03/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running edu.sharif.selab.AccountBalanceCalculatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  0.459 s
[INFO] Finished at: 2025-08-08T18:07:35+03:30
[INFO] ------------------------------------------------------------------------
```

### ุณูุงู ฺูุงุฑู - ุชุงุซุฑ ุชุณุชโููุณ ูุจู ุงุฒ ฺฉุฏููุณ (TDD)

ููุช ูุจู ุงุฒ ููุดุชู ฺฉุฏุ ุชุณุชโูุง ุฑุง ูโููุณูุ ุฏููุงู ูโุฏุงูู ุจุฑูุงูู ุจุงุฏ ฺู ุฑูุชุงุฑ ุฏุงุดุชู ุจุงุดุฏ ู ููู ุจุงุนุซ ูโุดูุฏ ูููุน ูพุงุฏูโุณุงุฒุ ฺฉูุชุฑ ุฏฺุงุฑ ุงุจูุงู ุดูู. ุงู ฺฉุงุฑ ุจุงุนุซ ุดุฏ ฺฉุฏ ููุธูโุชุฑ ู ุจุง ุงุทููุงู ุจุดุชุฑ ููุดุชู ุดูุฏ ู ุงฺฏุฑ ุชุบุฑ ูุงุฒู ุจูุฏุ ุณุฑุน ูุชูุฌู ูโุดุฏู ฺฉู ฺฉุฌุงูุง ุจุงุฏ ุงุตูุงุญ ุดูุฏ.

### ุณูุงู ูพูุฌู - ูุฒุงุง ู ูุนุงุจ ุฑูฺฉุฑุฏ TDD

ูุฒุช ุงุตู TDD ุงู ุงุณุช ฺฉู ุจุงุนุซ ูโุดูุฏ ฺฉุฏ ูุงุจู ุงุทููุงูโุชุฑ ู ุชุบุฑูพุฐุฑุชุฑ ุจุงุดุฏ ู ุฎุทุงูุง ุฒูุฏุชุฑ ฺฉุดู ุดููุฏ. ููฺููุ ูุณุชูุฏุณุงุฒ ุฑูุชุงุฑ ุจุฑูุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงูุฌุงู ูโุดูุฏ. ุงูุง ููุดุชู ุชุณุช ูุจู ุงุฒ ฺฉุฏ ฺฉู ุฒูุงูโุจุฑ ุงุณุช ู ฺฏุงู ููุดุชู ุชุณุช ุจุฑุง ุจุฎุดโูุง ูพฺุฏู ุง ูุงุจุณุชู ุจู ูุญุท ุณุฎุช ูโุดูุฏ. ุฏุฑ ฺฉูุ ุงู ุฑูุด ุจุงุนุซ ูโุดูุฏ ุจุฑูุงููโููุณ ุจุง ุฎุงู ุฑุงุญุชโุชุฑ ฺฉุฏ ุฑุง ุชุบุฑ ุฏูุฏ ู ูุทูุฆู ุจุงุดุฏ ฺฉู ฺุฒ ุฎุฑุงุจ ููโุดูุฏ.
